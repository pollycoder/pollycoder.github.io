I"4<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&amp;id=1458567&amp;auto=1&amp;height=66"></iframe>

<h1 id="how-to-complete-cmakeliststxt-and-packagexml">How to Complete CMakeLists.txt and package.xml</h1>

<p>In ROS developing, <code class="language-plaintext highlighter-rouge">CMakelists.txt</code> and <code class="language-plaintext highlighter-rouge">package.xml</code> are two important files to build a package. Only the files under your package direcotry need to be modified. Since you are not sure what dependencies you are going to use at the beginning, therefore in real developing process the <code class="language-plaintext highlighter-rouge">CMakeLists.txt</code> and <code class="language-plaintext highlighter-rouge">package.xml</code> writing can’t be done completely by <code class="language-plaintext highlighter-rouge">catkin_create_pkg</code>.</p>

<h2 id="cmakeliststxt">CMakeLists.txt</h2>

<h4 id="here-are-several-basic-commands">Here are several basic commands:</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Function</th>
      <th style="text-align: left">Command</th>
      <th style="text-align: left">Usage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Environment Configuration</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">cmake_minimum_required(VERSION x.x.x)</code></td>
      <td style="text-align: left">Set up the minimum version of CMake installed on your computer</td>
    </tr>
    <tr>
      <td style="text-align: left">Environment Configuration</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">project(xxx)</code></td>
      <td style="text-align: left">Package name (<font color="gree">automatiaclly generated by ROS</font>)</td>
    </tr>
    <tr>
      <td style="text-align: left">Find dependencies</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">find_package(XX REQUIRED xxx)</code></td>
      <td style="text-align: left">Normally <code class="language-plaintext highlighter-rouge">catkin</code> is necessary</td>
    </tr>
    <tr>
      <td style="text-align: left">Add executable targets</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">add_executable(EXEC FILES)</code></td>
      <td style="text-align: left">EXEC-executable file name; FILES-all compilation units (.cpp)</td>
    </tr>
    <tr>
      <td style="text-align: left">Add target library</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">add_library(LIB FILES)</code></td>
      <td style="text-align: left">LIB-library name; FILES-all compilation units (.cpp)</td>
    </tr>
    <tr>
      <td style="text-align: left">Link libraries</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">target_link_libraries(EXEC LIB)</code></td>
      <td style="text-align: left">EXEC-executable file name;LIB-library name</td>
    </tr>
    <tr>
      <td style="text-align: left">Include header files</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">target_include_directories(${PROJECT_NAME} PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/include)</code></td>
      <td style="text-align: left">CMAKE_CURRENT_SOURCE_DIR=PACKAGE/src</td>
    </tr>
  </tbody>
</table>

<p>For complete tutorials, go to <a href="http://wiki.ros.org/catkin/CMakeLists.txt">ROS wiki — CMakeLists.txt</a> for further info.</p>
<blockquote class="prompt-tip">
  <p>Here we find that somewhere has <code class="language-plaintext highlighter-rouge">#</code> commented, somewhere has <code class="language-plaintext highlighter-rouge">##</code> commented, somewhere has no comment.
This a small trick:</p>
  <ul>
    <li>No comment———This part is indispensible. You’d better not comment them or your project can’t be made.</li>
    <li><code class="language-plaintext highlighter-rouge">#</code> commented——This part is optional, you can uncomment them when you need.</li>
    <li><code class="language-plaintext highlighter-rouge">##</code> commented—–This part is the real comment. Don’t uncomment them.</li>
  </ul>
</blockquote>
<h2 id="packagexml">Package.xml</h2>

:ET